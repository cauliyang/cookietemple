

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Syncing your project &mdash; cookietemple 1.2.4 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom_cookietemple.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> cookietemple
          

          
          </a>

          
            
            
              <div class="version">
                1.2.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Syncing your project</a><ul>
<li><a class="reference internal" href="#requirements-for-sync">Requirements for sync</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#flags">Flags</a></li>
<li><a class="reference internal" href="#configuring-sync">Configuring sync</a><ul>
<li><a class="reference internal" href="#sync-level">Sync level</a></li>
<li><a class="reference internal" href="#blacklisting-files">Blacklisting files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">cookietemple</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Syncing your project</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/sync.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="syncing-your-project">
<span id="sync"></span><h1>Syncing your project<a class="headerlink" href="#syncing-your-project" title="Permalink to this headline">¶</a></h1>
<p>Syncing is supposed to integrate any changes to the cookietemple templates back into your already existing project.
When <code class="docutils literal notranslate"><span class="pre">cookietemple</span> <span class="pre">sync</span></code> is invoked, cookietemple checks whether a new version of the corresponding template for the current project is available.
If so, cookietemple creates a temporary project with the most recent template and pushes it to the <code class="docutils literal notranslate"><span class="pre">TEMPLATE</span></code> branch.
Next, a pull request is submitted to the <code class="docutils literal notranslate"><span class="pre">development</span></code> branch.
Please note that the required <code class="docutils literal notranslate"><span class="pre">CT_SYNC_TOKEN</span></code> (see below) is automatically set and manual syncing should be avoided if possible.</p>
<p>The syncing process is configurable by setting the desired lower syncing boundary level and blacklisting files from syncing (see <a class="reference internal" href="#sync-config"><span class="std std-ref">Sync level</span></a>).</p>
<div class="section" id="requirements-for-sync">
<h2>Requirements for sync<a class="headerlink" href="#requirements-for-sync" title="Permalink to this headline">¶</a></h2>
<p>For syncing to work properly, your project has to satisfy a few things:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>A Github repository with your projects code (private or public, organization or non-organization repository).</p></li>
<li><p>An unmodified <code class="docutils literal notranslate"><span class="pre">.cookietemple.yml</span></code> file. If you modify this file, which you should never do, syncing may not be able to recreate the project with the most recent template.</p></li>
<li><p>An active repository secret called <code class="docutils literal notranslate"><span class="pre">CT_SYNC_TOKEN</span></code> for your project’s repository containing the encrypted personal access token with at least <code class="docutils literal notranslate"><span class="pre">repo</span></code> scope.</p></li>
<li><p>A running, unmodified workflow called <code class="docutils literal notranslate"><span class="pre">sync_project.yml</span></code>. Modifying this workflow should never be done and results in undefined sync behaviour.</p></li>
</ol>
</div></blockquote>
<p>Points 3 and 4 are only required when not syncing manually.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>To sync your project manually, simply run</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cookietemple sync <span class="o">[</span>PROJECT_DIR<span class="o">]</span> <span class="o">[</span>PAT<span class="o">]</span> <span class="o">[</span>GITHUB_USERNAME<span class="o">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PROJECT_DIR</span></code> [CWD] : The path to the <code class="docutils literal notranslate"><span class="pre">cookietemple.cfg</span></code> file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PAT</span></code> [Configured pat] : A Github personal access token with at least the <code class="docutils literal notranslate"><span class="pre">repo</span></code> scope. The <code class="docutils literal notranslate"><span class="pre">sync_project.yml</span></code> Github workflow uses the PAT set as a Github secret.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GITHUB_USERNAME</span></code> [Configured username] : The Github username to submit a pull request from. The supplied PAT has to be associated with this username.</p></li>
</ul>
</div>
<div class="section" id="flags">
<h2>Flags<a class="headerlink" href="#flags" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--set-token</span></code> : Update <code class="docutils literal notranslate"><span class="pre">CT_SYNC_SECRET</span></code> of your project’s repo to a new PAT. Note that the Github username and the PAT must still match for automatic syncing to work.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check-update</span></code> : Check, whether a new release of a template for an already existing project is available.</p></li>
</ul>
</div>
<div class="section" id="configuring-sync">
<h2>Configuring sync<a class="headerlink" href="#configuring-sync" title="Permalink to this headline">¶</a></h2>
<div class="section" id="sync-level">
<span id="sync-config"></span><h3>Sync level<a class="headerlink" href="#sync-level" title="Permalink to this headline">¶</a></h3>
<p>Since cookietemple strongly adheres to semantic versioning our templates do too.
Hence, it is customizable whether only major, minor or patch releases of the template should trigger cookietemple sync.
The sync level therefore specifies a lower boundary. It can be configured in the:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">sync_level</span><span class="p">]</span>
<span class="n">ct_sync_level</span> <span class="o">=</span> <span class="n">minor</span>
</pre></div>
</div>
<p>section.</p>
</div>
<div class="section" id="blacklisting-files">
<h3>Blacklisting files<a class="headerlink" href="#blacklisting-files" title="Permalink to this headline">¶</a></h3>
<p>Although, cookietemple only submits pull requests for files, which are part of the template, sometimes even those files should be ignored.
Examples could be any html files, which ,at some point, contain only custom content and should not be synced.
When syncing, cookietemple examines the <code class="docutils literal notranslate"><span class="pre">cookietemple.cfg</span></code> file and ignores any file patterns (globs) (e.g. <code class="docutils literal notranslate"><span class="pre">*.html</span></code>) below the <code class="docutils literal notranslate"><span class="pre">[sync_files_blacklisted]</span></code> section.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Lukas Heumos, Philipp Ehmele, the cookiejar organization

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>